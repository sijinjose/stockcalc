The solution is divided into 3 services
1. StockService which calculate dividend yield and PE ration for any stock and price given
2. TradeService which captures trade and gives Volume Weighted Stock Price based on trades in past 15 minutes
3. GBCEService which calculates All Share Index using the geometric mean of prices for all stocks


The calculations are done according to my understanding of the problem statement given.